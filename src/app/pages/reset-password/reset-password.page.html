<ion-header>
    <app-header></app-header>
</ion-header>
<ion-content>
    <form class="container" [formGroup]="validations_form">
        <ion-grid>
            <ion-row justify-content-center>
                <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
                  <div class="ion-text-center profile-image" >
                    <ion-avatar class="profile-avatar">
                      <img src="assets/profile.png" class="dp-logo"/>
                    </ion-avatar>
                  </div>
                  <p text-left>
                      <ion-text color="danger">{{errorMsg}}</ion-text>
                  </p>
                  <ion-item>
                            <!-- <ion-icon slot="start" name="key"> </ion-icon> -->
                            <ion-label position="floating" class="rr-label" color="rr-tertiary">Old Password</ion-label>
                            <ion-input [type]="passwordTypes[0]" formControlName="oldPassword"></ion-input>
                            <ion-icon class="icon" size="small" slot="end" [name]="showhides[0]"
                                (click)="togglePasswordMode(0)" align-self-end> </ion-icon>

                  </ion-item>
                  <div class="validation-errors">
                      <ng-container *ngFor="let validation of validation_messages.password">
                          <div class="error-message"
                              *ngIf="oldPassword.hasError(validation.type) && (oldPassword.dirty || oldPassword.touched)">
                              <ion-icon color="danger" name="information-circle-outline"></ion-icon>
                              <ion-text color="danger">{{ validation.message }}</ion-text>
                          </div>
                      </ng-container>
                  </div>
                  <div formGroupName="matching_passwords">
                  <ion-item>
                            <!-- <ion-icon slot="start" name="key"> </ion-icon> -->
                            <ion-label position="floating" class="rr-label" color="rr-tertiary">New Password</ion-label>
                            <ion-input [type]="passwordTypes[1]" formControlName="newPassword"></ion-input>
                            <ion-icon class="icon" size="small" slot="end" [name]="showhides[1]" align-self-end
                                (click)="togglePasswordMode(1)"> </ion-icon>

                  </ion-item>
                  <div class="validation-errors">
                      <ng-container *ngFor="let validation of validation_messages.newPassword">
                          <div class="error-message"
                              *ngIf="newPassword.hasError(validation.type) && (newPassword.dirty || newPassword.touched)">
                              <ion-icon color="danger" name="information-circle-outline"></ion-icon>
                              <ion-text color="danger">{{ validation.message }}</ion-text>
                          </div>
                      </ng-container>
                  </div>
                  <ion-item>
                            <!-- <ion-icon slot="start" name="key"> </ion-icon> -->
                            <ion-label position="floating" class="rr-label" color="rr-tertiary">Confirm Password</ion-label>
                            <ion-input [type]="passwordTypes[2]" formControlName="confirmPassword"></ion-input>
                            <ion-icon class="icon" size="small" slot="end" [name]="showhides[2]" align-self-end
                                (click)="togglePasswordMode(2)"> </ion-icon>

                  </ion-item>
                  <div class="validation-errors">
                      <ng-container *ngFor="let validation of validation_messages.password">
                          <div class="error-message"
                              *ngIf="confirmPassword.hasError(validation.type) && (confirmPassword.dirty || confirmPassword.touched)">
                              <ion-icon color="danger" name="information-circle-outline"></ion-icon>
                              <ion-text color="danger">{{ validation.message }}</ion-text>
                          </div>
                      </ng-container>
                  </div>
                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validation_messages.matching_passwords">
                      <div class="error-message" *ngIf="validations_form.get('matching_passwords').hasError(validation.type)
                      && (confirmPassword.dirty || confirmPassword.touched)">
                        <ion-icon color="danger" name="information-circle-outline"></ion-icon>
                        <ion-text color="danger">{{ validation.message }}</ion-text>
                      </div>
                    </ng-container>
                  </div>
                </div>

                  <div padding>
                        <ion-button shape="round" class="submit-btn app-button" full type="submit" [disabled]="!validations_form.valid" (click)="resetPassword()" expand="block" color="dark">
                            <ion-text color="light">Change Password</ion-text>
                        </ion-button>

                    </div>

        </ion-col>
      </ion-row>
      </ion-grid>
      </form>
</ion-content>
<ion-footer>
   <app-footer></app-footer>
</ion-footer>
